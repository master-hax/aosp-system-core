{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "ce9510e6_66d5dea5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 14
      },
      "lineNbr": 0,
      "author": {
        "id": 1268571
      },
      "writtenOn": "2022-07-28T21:00:12Z",
      "side": 1,
      "message": "PTAL",
      "revId": "eb75396ff19f9f15167da891f0d9c43a0f6acc8f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ba991be5_4f03e5d8",
        "filename": "debuggerd/crash_dump.cpp",
        "patchSetId": 14
      },
      "lineNbr": 523,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2022-07-28T21:51:36Z",
      "side": 1,
      "message": "system properties seems like a bad idea?",
      "revId": "eb75396ff19f9f15167da891f0d9c43a0f6acc8f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e3d39498_1eba3745",
        "filename": "debuggerd/crash_dump.cpp",
        "patchSetId": 14
      },
      "lineNbr": 523,
      "author": {
        "id": 1268571
      },
      "writtenOn": "2022-07-28T21:58:09Z",
      "side": 1,
      "message": "I don\u0027t have a less-bad idea, do you?",
      "parentUuid": "ba991be5_4f03e5d8",
      "revId": "eb75396ff19f9f15167da891f0d9c43a0f6acc8f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "62f229fd_1ec77899",
        "filename": "debuggerd/crash_dump.cpp",
        "patchSetId": 14
      },
      "lineNbr": 523,
      "author": {
        "id": 1268571
      },
      "writtenOn": "2022-08-10T21:48:55Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "e3d39498_1eba3745",
      "revId": "eb75396ff19f9f15167da891f0d9c43a0f6acc8f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "72d1b76d_f4632a1b",
        "filename": "init/service.cpp",
        "patchSetId": 14
      },
      "lineNbr": 259,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2022-07-28T21:51:36Z",
      "side": 1,
      "message": "if you have this, why can\u0027t you get the sicode from it?",
      "range": {
        "startLine": 259,
        "startChar": 25,
        "endLine": 259,
        "endChar": 34
      },
      "revId": "eb75396ff19f9f15167da891f0d9c43a0f6acc8f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d3251a4e_895310ef",
        "filename": "init/service.cpp",
        "patchSetId": 14
      },
      "lineNbr": 259,
      "author": {
        "id": 1268571
      },
      "writtenOn": "2022-07-28T21:58:09Z",
      "side": 1,
      "message": "You cannot. This is the siginfo_t for the SIGCHLD, not the signal that caused the child to exit.\n\nman waitpid\n\n\n       si_code\n              Set to one of: CLD_EXITED (child called _exit(2));\n              CLD_KILLED (child killed by signal); CLD_DUMPED (child\n              killed by signal, and dumped core); CLD_STOPPED (child\n              stopped by signal); CLD_TRAPPED (traced child has\n              trapped); or CLD_CONTINUED (child continued by SIGCONT).",
      "parentUuid": "72d1b76d_f4632a1b",
      "range": {
        "startLine": 259,
        "startChar": 25,
        "endLine": 259,
        "endChar": 34
      },
      "revId": "eb75396ff19f9f15167da891f0d9c43a0f6acc8f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b41fd1ea_62e3609c",
        "filename": "init/service.cpp",
        "patchSetId": 14
      },
      "lineNbr": 259,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2022-07-28T22:01:52Z",
      "side": 1,
      "message": "`si.si_code \u003d\u003d CLD_KILLED \u0026\u0026 si.si_status \u003d\u003d SIGSEGV`?\n\ni know that\u0027s slightly broader than it needs to be, but is there a reason we wouldn\u0027t just turn it on for all processes crashing with SIGSEGVs?",
      "parentUuid": "d3251a4e_895310ef",
      "range": {
        "startLine": 259,
        "startChar": 25,
        "endLine": 259,
        "endChar": 34
      },
      "revId": "eb75396ff19f9f15167da891f0d9c43a0f6acc8f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "26111a38_d11eb422",
        "filename": "init/service.cpp",
        "patchSetId": 14
      },
      "lineNbr": 259,
      "author": {
        "id": 1268571
      },
      "writtenOn": "2022-07-28T22:05:29Z",
      "side": 1,
      "message": "for performance reasons we don\u0027t want to turn this on often, so right now we limit to once-per-service-per-boot. it would be a shame to burn this on an unrelated crash. the premise is that hopefully the user will reattempt whatever they did to cause the crash, and cause it again.",
      "parentUuid": "b41fd1ea_62e3609c",
      "range": {
        "startLine": 259,
        "startChar": 25,
        "endLine": 259,
        "endChar": 34
      },
      "revId": "eb75396ff19f9f15167da891f0d9c43a0f6acc8f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3c076ea7_39d26c6f",
        "filename": "init/service.cpp",
        "patchSetId": 14
      },
      "lineNbr": 259,
      "author": {
        "id": 1268571
      },
      "writtenOn": "2022-08-10T21:47:52Z",
      "side": 1,
      "message": "Removed the property, I am working on adding a kernel interface for that information, and will add that in later.",
      "parentUuid": "26111a38_d11eb422",
      "range": {
        "startLine": 259,
        "startChar": 25,
        "endLine": 259,
        "endChar": 34
      },
      "revId": "eb75396ff19f9f15167da891f0d9c43a0f6acc8f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "154041af_e9307c8f",
        "filename": "init/service.cpp",
        "patchSetId": 14
      },
      "lineNbr": 259,
      "author": {
        "id": 1268571
      },
      "writtenOn": "2022-08-11T19:18:14Z",
      "side": 1,
      "message": "See https://lkml.org/lkml/2022/8/11/1041 for the proposed kernel change.",
      "parentUuid": "3c076ea7_39d26c6f",
      "range": {
        "startLine": 259,
        "startChar": 25,
        "endLine": 259,
        "endChar": 34
      },
      "revId": "eb75396ff19f9f15167da891f0d9c43a0f6acc8f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b52c1527_609ef8f1",
        "filename": "rootdir/init.zygote32.rc",
        "patchSetId": 14
      },
      "lineNbr": 19,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2022-07-28T21:51:36Z",
      "side": 1,
      "message": "this seems messy?",
      "revId": "eb75396ff19f9f15167da891f0d9c43a0f6acc8f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c5687929_78367c5f",
        "filename": "rootdir/init.zygote32.rc",
        "patchSetId": 14
      },
      "lineNbr": 19,
      "author": {
        "id": 1268571
      },
      "writtenOn": "2022-07-28T21:58:09Z",
      "side": 1,
      "message": "We need to turn this feature off for Zygote, or have it stuck waiting for all threads to go away before starting an app. That wouldn\u0027t be great.\n\nI originally added a new variable to turn this off, but eugenis@ preferred this approach (in the bionic/  review).",
      "parentUuid": "b52c1527_609ef8f1",
      "revId": "eb75396ff19f9f15167da891f0d9c43a0f6acc8f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5de565dc_ccb7c237",
        "filename": "rootdir/init.zygote32.rc",
        "patchSetId": 14
      },
      "lineNbr": 19,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2022-07-28T22:01:52Z",
      "side": 1,
      "message": "why isn\u0027t that in the zygote code itself, rather than needing to be duplicated in any caller?",
      "parentUuid": "c5687929_78367c5f",
      "revId": "eb75396ff19f9f15167da891f0d9c43a0f6acc8f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c5e13462_e1001400",
        "filename": "rootdir/init.zygote32.rc",
        "patchSetId": 14
      },
      "lineNbr": 19,
      "author": {
        "id": 1268571
      },
      "writtenOn": "2022-07-29T16:51:32Z",
      "side": 1,
      "message": "This gets handled (via  the linker) even before constructors are called, so I am not sure what a good place would be in the Zygote code",
      "parentUuid": "5de565dc_ccb7c237",
      "revId": "eb75396ff19f9f15167da891f0d9c43a0f6acc8f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d79071fa_cb1cc2b1",
        "filename": "rootdir/init.zygote32.rc",
        "patchSetId": 14
      },
      "lineNbr": 19,
      "author": {
        "id": 1005967
      },
      "writtenOn": "2022-07-29T20:48:37Z",
      "side": 1,
      "message": "we could add a platform mallopt or something to kill the timer and the extra thread before forking. But it does not look much messier that gwp-asan in bionic matching the zygote process by name.",
      "parentUuid": "c5e13462_e1001400",
      "revId": "eb75396ff19f9f15167da891f0d9c43a0f6acc8f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f04b62bf_09fe6f71",
        "filename": "rootdir/init.zygote32.rc",
        "patchSetId": 14
      },
      "lineNbr": 19,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2022-07-29T20:53:39Z",
      "side": 1,
      "message": "\u003e But it does not look much messier that gwp-asan in bionic matching the zygote process by name.\n\nthat was exactly what i was about to suggest :-)\n\nugly, sure, but so are both choices, and that one seems to have the advantage of being less fragile because there\u0027s only one place to get it right/wrong, and no-one but us messes with that.",
      "parentUuid": "d79071fa_cb1cc2b1",
      "revId": "eb75396ff19f9f15167da891f0d9c43a0f6acc8f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "24d4ca67_537b1c40",
        "filename": "rootdir/init.zygote32.rc",
        "patchSetId": 14
      },
      "lineNbr": 19,
      "author": {
        "id": 1268571
      },
      "writtenOn": "2022-08-10T21:47:52Z",
      "side": 1,
      "message": "Done. Will add the app_process matching in bionic",
      "parentUuid": "f04b62bf_09fe6f71",
      "revId": "eb75396ff19f9f15167da891f0d9c43a0f6acc8f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}