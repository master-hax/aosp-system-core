{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "f73c2934_3af8f8e3",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 11,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2022-05-09T05:33:10Z",
      "side": 1,
      "message": "This CL doesn\u0027t explain why we choose 0664 over 0660, which IMO sounds like a safer option. If 0660 causes a problem, we should have noticed that far before, right?",
      "range": {
        "startLine": 11,
        "startChar": 18,
        "endLine": 11,
        "endChar": 22
      },
      "revId": "8ce8d636eb6183cb97f8e48bc0a6de72852f1867",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "89f47a21_c079d062",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 11,
      "author": {
        "id": 1894539
      },
      "writtenOn": "2022-05-09T06:10:57Z",
      "side": 1,
      "message": "IMO 0664 makes sense because under /sys/devices/system/cpu/cpu0/cpufreq/ almost every nodes has read access.\nIt looks weird if we have 0660 for scaling_max_freq and 0664 for scaling_min_freq.",
      "parentUuid": "f73c2934_3af8f8e3",
      "range": {
        "startLine": 11,
        "startChar": 18,
        "endLine": 11,
        "endChar": 22
      },
      "revId": "8ce8d636eb6183cb97f8e48bc0a6de72852f1867",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "89a9bbb0_1fd45b84",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 11,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2022-05-09T06:18:30Z",
      "side": 1,
      "message": "Ack. Could you amend the commit message to have a link to https://cs.android.com/android/platform/superproject/+/master:system/sepolicy/public/domain.te;drc\u003d8cd32cd93ef9624280ba23f5a1f3aacbe9b25c0a;l\u003d236 which shows that many processes have been having read access to these nodes already?",
      "parentUuid": "89f47a21_c079d062",
      "range": {
        "startLine": 11,
        "startChar": 18,
        "endLine": 11,
        "endChar": 22
      },
      "revId": "8ce8d636eb6183cb97f8e48bc0a6de72852f1867",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1dbbdaba_0dcf7b32",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 11,
      "author": {
        "id": 1894539
      },
      "writtenOn": "2022-05-09T09:15:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "89a9bbb0_1fd45b84",
      "range": {
        "startLine": 11,
        "startChar": 18,
        "endLine": 11,
        "endChar": 22
      },
      "revId": "8ce8d636eb6183cb97f8e48bc0a6de72852f1867",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "51a9a895_c67c6d65",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 14,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2022-05-09T05:33:10Z",
      "side": 1,
      "message": "Could you please check if all cpus have the same permission on several Pixel devices and Cuttlefish?",
      "range": {
        "startLine": 14,
        "startChar": 6,
        "endLine": 14,
        "endChar": 11
      },
      "revId": "8ce8d636eb6183cb97f8e48bc0a6de72852f1867",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b22e53d5_d9c882ee",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 14,
      "author": {
        "id": 1894539
      },
      "writtenOn": "2022-05-10T03:30:02Z",
      "side": 1,
      "message": "Checked on Cuttlefish and B3 device.",
      "parentUuid": "51a9a895_c67c6d65",
      "range": {
        "startLine": 14,
        "startChar": 6,
        "endLine": 14,
        "endChar": 11
      },
      "revId": "8ce8d636eb6183cb97f8e48bc0a6de72852f1867",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "81a1c263_20fede68",
        "filename": "rootdir/init.rc",
        "patchSetId": 2
      },
      "lineNbr": 1140,
      "author": {
        "id": 1105075
      },
      "writtenOn": "2022-05-05T06:50:49Z",
      "side": 1,
      "message": "should we just remove this?\n\ndoes the ueventd cover this?\nhttp://cs/android/system/core/rootdir/ueventd.rc;l\u003d73;rcl\u003d393d3c57808ee820b9b8159b2ab601eb2448a25b\n\n/sys/devices/system/cpu/cpu*   cpufreq/scaling_max_freq   0664  system system",
      "range": {
        "startLine": 1138,
        "startChar": 0,
        "endLine": 1140,
        "endChar": 68
      },
      "revId": "8ce8d636eb6183cb97f8e48bc0a6de72852f1867",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "38a7b9fa_1fc96eb8",
        "filename": "rootdir/init.rc",
        "patchSetId": 2
      },
      "lineNbr": 1140,
      "author": {
        "id": 1894539
      },
      "writtenOn": "2022-05-05T07:23:38Z",
      "side": 1,
      "message": "I am wondering if a device without hotplug cpus may not trigger ueventd.",
      "parentUuid": "81a1c263_20fede68",
      "range": {
        "startLine": 1138,
        "startChar": 0,
        "endLine": 1140,
        "endChar": 68
      },
      "revId": "8ce8d636eb6183cb97f8e48bc0a6de72852f1867",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d62949ad_4bcc8f12",
        "filename": "rootdir/init.rc",
        "patchSetId": 2
      },
      "lineNbr": 1140,
      "author": {
        "id": 1325114
      },
      "writtenOn": "2022-05-05T09:58:12Z",
      "side": 1,
      "message": "yeah. Likely cpu0 won\u0027t be hot-plugged in most architecture. This might explains why cpu0 remains 0660.",
      "parentUuid": "38a7b9fa_1fc96eb8",
      "range": {
        "startLine": 1138,
        "startChar": 0,
        "endLine": 1140,
        "endChar": 68
      },
      "revId": "8ce8d636eb6183cb97f8e48bc0a6de72852f1867",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e7a17cfb_958eea8a",
        "filename": "rootdir/init.rc",
        "patchSetId": 2
      },
      "lineNbr": 1140,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2022-05-09T05:33:10Z",
      "side": 1,
      "message": "In the bug: \n\n\u003e Only little cores (cpu 0-3) are with 0660 file permission, others are 0664.\n\nDoes this mean that the other little cores (cpu 1-3) were also without hotplug? Or do they automatically generated by copying the files for cpu0?",
      "parentUuid": "d62949ad_4bcc8f12",
      "range": {
        "startLine": 1138,
        "startChar": 0,
        "endLine": 1140,
        "endChar": 68
      },
      "revId": "8ce8d636eb6183cb97f8e48bc0a6de72852f1867",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "75a44844_2bdd744c",
        "filename": "rootdir/init.rc",
        "patchSetId": 2
      },
      "lineNbr": 1140,
      "author": {
        "id": 1894539
      },
      "writtenOn": "2022-05-09T06:10:57Z",
      "side": 1,
      "message": "Each cluster will share the same permissions.\n\n$ adb shell cat /sys/devices/system/cpu/cpufreq/policy0/affected_cpus                                                                                                          \n0 1 2 3\n$ adb shell cat /sys/devices/system/cpu/cpufreq/policy4/affected_cpus                                                                                                          \n4 5\n$ adb shell cat /sys/devices/system/cpu/cpufreq/policy6/affected_cpus                                                                                                          \n6 7",
      "parentUuid": "e7a17cfb_958eea8a",
      "range": {
        "startLine": 1138,
        "startChar": 0,
        "endLine": 1140,
        "endChar": 68
      },
      "revId": "8ce8d636eb6183cb97f8e48bc0a6de72852f1867",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "66d32f0f_daa0e6b1",
        "filename": "rootdir/init.rc",
        "patchSetId": 2
      },
      "lineNbr": 1140,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2022-05-09T06:18:30Z",
      "side": 1,
      "message": "Ack. Then could you amend the comment that this line below is for the initial cluster (cpu0...) that is not hot-plugged in most cases, and the rest of hot-plugged clusters are covered by ueventd?",
      "parentUuid": "75a44844_2bdd744c",
      "range": {
        "startLine": 1138,
        "startChar": 0,
        "endLine": 1140,
        "endChar": 68
      },
      "revId": "8ce8d636eb6183cb97f8e48bc0a6de72852f1867",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e12e8d11_808de8e3",
        "filename": "rootdir/init.rc",
        "patchSetId": 2
      },
      "lineNbr": 1140,
      "author": {
        "id": 1894539
      },
      "writtenOn": "2022-05-09T09:15:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "66d32f0f_daa0e6b1",
      "range": {
        "startLine": 1138,
        "startChar": 0,
        "endLine": 1140,
        "endChar": 68
      },
      "revId": "8ce8d636eb6183cb97f8e48bc0a6de72852f1867",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8e8ea07f_f0c3d8a3",
        "filename": "rootdir/init.rc",
        "patchSetId": 2
      },
      "lineNbr": 1140,
      "author": {
        "id": 1105075
      },
      "writtenOn": "2022-05-10T04:23:45Z",
      "side": 1,
      "message": "\u003e I am wondering if a device without hotplug cpus may not trigger ueventd.\n\n1) we don\u0027t do hotplug for s2idle devices. how does this work still?\n\ncoral:/ # ls -l /sys/devices/system/cpu/cpufreq/policy*/scaling_max_freq                                                                                           \n-rw-rw---- 1 system system 4096 2022-05-09 21:19 /sys/devices/system/cpu/cpufreq/policy0/scaling_max_freq\n-rw-rw-r-- 1 system system 4096 2022-05-09 21:19 /sys/devices/system/cpu/cpufreq/policy4/scaling_max_freq\n-rw-rw-r-- 1 system system 4096 2022-05-09 21:19 /sys/devices/system/cpu/cpufreq/policy7/scaling_max_freq\n\n2) the node is per cpufreq policy, why offline cpu would wipe a cpufreq node?\nafter cpu offlined, the node still exists on both cpu node and cpufreq node.\n\ncoral:/ # ls -l /sys/devices/system/cpu/cpu0/cpufreq                                                                                                               \nlrwxrwxrwx 1 root root 0 2022-05-09 21:19 /sys/devices/system/cpu/cpu0/cpufreq -\u003e ../cpufreq/policy0\n\n\ncoral:/ # ls -l /sys/devices/system/cpu/cpufreq/policy*/scaling_max_freq                                                                                           \n-rw-rw---- 1 system system 4096 2022-05-09 21:19 /sys/devices/system/cpu/cpufreq/policy0/scaling_max_freq\n-rw-rw-r-- 1 system system 4096 2022-05-09 21:19 /sys/devices/system/cpu/cpufreq/policy4/scaling_max_freq\n-rw-rw-r-- 1 system system 4096 2022-05-09 21:19 /sys/devices/system/cpu/cpufreq/policy7/scaling_max_freq\ncoral:/ # echo 0 \u003e /sys/devices/system/cpu/cpu4/online                                                                                                             \ncoral:/ # echo 0 \u003e /sys/devices/system/cpu/cpu5/online                                                                                                             \ncoral:/ # echo 0 \u003e /sys/devices/system/cpu/cpu6/online                                                                                                             \ncoral:/ # echo 0 \u003e /sys/devices/system/cpu/cpu7/online                                                                                                             \ncoral:/ # ls -l /sys/devices/system/cpu/cpufreq/policy*/scaling_max_freq                                                                                           \n-rw-rw---- 1 system system 4096 2022-05-09 21:19 /sys/devices/system/cpu/cpufreq/policy0/scaling_max_freq\n-rw-rw-r-- 1 system system 4096 2022-05-09 21:19 /sys/devices/system/cpu/cpufreq/policy4/scaling_max_freq\n-rw-rw-r-- 1 system system 4096 2022-05-09 21:19 /sys/devices/system/cpu/cpufreq/policy7/scaling_max_freq\ncoral:/ # ls -l /sys/devices/system/cpu/cpu4/cpufreq/scaling_max_freq                                                                                              \n-rw-rw-r-- 1 system system 4096 2022-05-09 21:19 /sys/devices/system/cpu/cpu4/cpufreq/scaling_max_freq\ncoral:/ # ls -l /sys/devices/system/cpu/cpu{4,5,6,7}/cpufreq/scaling_max_freq                                                                                      \n-rw-rw-r-- 1 system system 4096 2022-05-09 21:19 /sys/devices/system/cpu/cpu4/cpufreq/scaling_max_freq\n-rw-rw-r-- 1 system system 4096 2022-05-09 21:19 /sys/devices/system/cpu/cpu5/cpufreq/scaling_max_freq\n-rw-rw-r-- 1 system system 4096 2022-05-09 21:19 /sys/devices/system/cpu/cpu6/cpufreq/scaling_max_freq",
      "parentUuid": "e12e8d11_808de8e3",
      "range": {
        "startLine": 1138,
        "startChar": 0,
        "endLine": 1140,
        "endChar": 68
      },
      "revId": "8ce8d636eb6183cb97f8e48bc0a6de72852f1867",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}